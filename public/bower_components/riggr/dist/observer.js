/* Part of the Riggr SPA framework <https://github.com/Fluidbyte/Riggr> and released under the MIT license. This notice must remain intact. */
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.observer=b()}(this,function(){var a={topics:{},topic_id:0,publish:function(a,b){var c=this;return c.topics.hasOwnProperty(a)?(setTimeout(function(){var d,e=c.topics[a];if(!e.length)return!1;for(d=e.length;d--;)e[d].fn(b)},0),!0):!1},subscribe:function(a,b){var c,d,e=this,f=++this.topic_id;for(e.topics[a]||(e.topics[a]=[]),d=0,c=e.topics[a].length;c>d;d++)if(e.topics[a][d].fn.toString()===b.toString())return e.topics[a][d].id;return e.topics[a].push({id:f,fn:b}),f},unsubscribe:function(a){var b,c,d,e=this;for(b in e.topics)if(e.topics.hasOwnProperty(b))for(c=0,d=e.topics[b].length;d>c;c++)if(e.topics[b][c].id===a)return e.topics[b].splice(c,1),a;return!1}};return a});